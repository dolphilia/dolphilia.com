# モデレーション・アクション

不要なユーザーやドメインに対して取ることのできる措置。

[[TOC]]

## 個々のユーザーをモデレートする

マストドンでのモデレーションは、常にローカルに、つまり特定のサーバーから見た状態で適用されます。あるサーバーの管理者やモデレーターが他のサーバーのユーザーに影響を与えることはできず、自分のサーバーのローカルコピーにのみ影響を与えることができます。

v3.5.0では、デフォルトのユーザーモデレーションの決定が、影響を受けるユーザーに電子メールで通知されます。ユーザーはアピールページにアクセスし、決定から20日以内に1回だけアピールを提出することができます。モデレーターは、そのアピールを承認または拒否することができます。

### センシティブ

アカウントがセンシティブとマークされると、ユーザーが投稿するすべてのメディアは自動的に[センシティブとしてマーク](https://docs.joinmastodon.org/user/posting/#cw)されます。

### フリーズ

マストドンのアカウントは凍結することができます。この場合、ユーザーはそのアカウントで何かをすることはできませんが、すべてのコンテンツはそのまま残っています。この制限は元に戻すことができ、アカウントはいつでも凍結を解除することができます。この制限は、サーバーのローカルユーザーに対してのみ有効です。

ユーザーのアカウントが凍結されると、ユーザーは自分の **アカウント設定** ページにリダイレクトされ、そこで次のようなメッセージが表示されます。

> アカウントへのログインやその他の使用はできなくなりますが、プロフィールやその他のデータはそのまま残ります。

アカウントの凍結が解除されると、通常の機能が再開されます。

### 制限

以前は「サイレンシング」と呼ばれていた。制限されたアカウントは、そのインスタンス上の他のすべてのユーザーから、そのフォロワーを除いて隠されます。すべてのコンテンツはまだそこにあり、検索、言及、フォローで見つけることができますが、コンテンツは公には見えません。

現時点では、制限はフェデレーションに影響を与えません。ローカルで制限されたアカウントは、他のサーバーで自動的に制限されることは *ありません*。アカウントの制限は元に戻すことができます。

### サスペンド

マストドンの利用停止は、アカウントが事実上削除されることを意味します。アカウントは検索に表示されなくなり、プロフィールページも消え、投稿、アップロード、フォロワー、その他すべてのデータが公に削除されます。ただし、停止から30日間は、管理者のバックエンドですべてのデータを利用することができます。これは、ユーザーにインスタンス管理者と協力して潜在的な問題を解決し、アカウントを再取得する機会を提供するためです。

30日以内にアカウントが復活した場合、すべてのデータは悪影響を受けることなく、再び一般にアクセスできるようになります。30日の期間が過ぎると、そのユーザーのデータはインスタンスから**すべて**削除されます。また、管理者は、30日間の任意の時点で、そのユーザーのアカウントデータを直ちに削除するオプションがあります。

データが削除されると、それが30日間の期間後であろうと、管理者が強制的に削除した場合であろうと、アカウントの停止を解除することは可能です。ただし、そのアカウントには、データ（ステータス、プロフィール情報、アバター、ヘッダー画像）が一切残りません。

## Webサイト全体を管理する

悪さをするサーバから大量のユーザを個別に監視することは疲れるので、いわゆる **ドメインブロック** を使って、そのサーバからのすべてのユーザに対して先手を打って監視することが可能であり、これにはいくつかの異なるレベルの重大性があります。

### メディアを拒否する

このオプションを有効にすると、サーバーからのファイルがローカルで処理されなくなります。これには、アバター、ヘッダー、絵文字、メディアの添付ファイルなどが含まれます。

### 制限

過去と未来のすべてのアカウントをサーバーから[制限](#limit-user)するのと同じ意味です。以前は "silencing "と呼ばれていました。

### サスペンド

過去と未来のすべてのアカウントをサーバーから[suspend](#suspend-user)するのと同じです。サーバーからのコンテンツは、ユーザー名を除いてローカルに保存されません。

## スパム対策

Mastodonのスパム対策は、いくつかの基本的なものがあります。

* サインアップにはメールアドレスの確認が必要です。
* 登録にはメールアドレスの確認が必要です。

しかし、熱心なスパマーはそれを突破してきます。もう一つの対策は、**電子メールドメインブラックリスト**です。サインアップの際、マストドンは与えられた電子メールアドレスをAまたはMXレコード、つまり電子メールサーバーのIPアドレスに解決し、そのIPアドレスを動的に保存されたブラックリストに照合します。

### メールサーバーによるブロック

スパマーはしばしば異なるメールドメインを使用するため、個別にブラックリスト化することが困難な多くの異なるメールサーバーを使用しているように見えます。しかし、これらのドメインがすべて1つの電子メールサーバーのIPに解決されることもあります。もし多くのスパマーが同時にサインアップしているのを見かけたら、オンラインのDNSルックアップツールやLinuxの`dig`ユーティリティを使って、これをチェックすることができます。例えば`dig example.com`はそのドメインのすべてのDNS Aレコードを返します。もし、IPがすべてのドメインで同じであることに気づいたら、それを電子メールのドメインブラックリストに追加することができます。

### IPによるブロッキング

Mastodon 自体では IP アドレスによる訪問者のブロックは不可能であり、確実な方法とは言えません。IPは多くの人が共有しており、時々変更されることがあります。しかし、Linuxではファイアウォールを使ってIPアドレスで訪問者をブロックすることが可能です。以下は `iptables` と `ipset` を使った例です。

```bash
# ipsetのインストール
sudo apt install ipset
# ブラックリスト "spambots "の作成
sudo ipset create spambots nethash
# ブラックリストに1.2.3.4を追加する
sudo ipset add spambots 1.2.3.4
# ブラックリストに基づくファイアウォールルールを追加する
sudo iptables -I INPUT 1 -m set --match-set spambots src -j DROP
```

マシンからロックアウトされないように注意してください。